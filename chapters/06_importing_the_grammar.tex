\chapter{Importing the grammar}

\begin{antlr}
	\textbf{grammar} \textit{SimpleXML};
	
	\parserrule{document}     :   \parserrule{prolog}? \parserrule{comment}? \parserrule{element} ;
	
	\parserrule{prolog}       :   \literal{<?xml } \parserrule{attribute}* \literal{?>} ;
	
	\parserrule{comment}      :   \literal{<!--} \lexerrule{TEXT} \literal{-->} ;
	
	\parserrule{element}      :   \literal{<} \lexerrule{Name} \parserrule{attribute}* \literal{>} \parserrule{content}* \literal{</} \lexerrule{Name} \literal{>}
	             |   \literal{<} \lexerrule{Name} \parserrule{attribute}* \literal{/>}
	             ;
	
	\parserrule{attribute}    :   \lexerrule{Name} \literal{="} \lexerrule{TEXT} \literal{"} ;
	
	\parserrule{content}      :   \lexerrule{TEXT}
	             |   \parserrule{element}
	             |   \parserrule{comment}
	             |   \lexerrule{CDATA}
	             ;
	
	\lexerrule{Name}         :   \lexerrule{NameStartChar} \lexerrule{NameChar}* ;
	
	\textbf{fragment}
	\lexerrule{DIGIT}        :   \regex{[0-9]} ;
	
	\textbf{fragment}
	\lexerrule{NameChar}     :   \lexerrule{NameStartChar}
	             |   \literal{-} | \literal{_} | \literal{.}
	             |   \lexerrule{DIGIT}
	             ;
	
	\textbf{fragment}
	\lexerrule{NameStartChar}:   \regex{[:a-zA-Z]} ;
	
	\lexerrule{TEXT}         :   \regex{~[<"]*} ;
	
	\lexerrule{CDATA}        :   \literal{<![CDATA[} \regex{.*?} \literal{]]>} ;
\end{antlr}